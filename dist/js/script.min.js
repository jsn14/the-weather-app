!function r(c,u,a){function s(e,t){if(!u[e]){if(!c[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var i=u[e]={exports:{}};c[e][0].call(i.exports,function(t){return s(c[e][1][t]||t)},i,i.exports,r,c,u,a)}return u[e].exports}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Copyright=n.Location=n.ApiCall=void 0;n.Location=function t(){return i(this,t),new Promise(function(e,n){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){e(t)},function(t){n(t)}):n("Location service is not supported by this browser.")})};n.ApiCall=function t(o){return i(this,t),new Promise(function(e,n){fetch(o).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){n(t)})})};n.Copyright=function t(){i(this,t),document.querySelector("#copyright-year").textContent=(new Date).getFullYear()}},{}],2:[function(t,e,n){"use strict";var o=t("./modules/classes"),i="https://api.openweathermap.org/data/2.5/weather?",r="&APPID=301928bddd4ba25acb86c57cdcd71281",c="metric",u=document.querySelector("#message"),a=document.querySelector("#mode_icon"),s=document.getElementById("submit"),l=document.getElementById("city-entered"),d=document.getElementById("refresh-btn");function m(){var t=l.value;t?(f("q="+t),u.textContent="Manual Input",a.src="dist/img/kb.svg"):alert("invalid user input")}function f(t){var e="".concat(i).concat(t,"&units=").concat(c).concat(r);new o.ApiCall(e).then(function(t){var e={city:t.name,country:t.sys.country,icon:t.weather[0].icon,temperatue:t.main.temp,conditions:t.weather[0].description,humidity:t.main.humidity,visibility:t.visibility,pressure:t.main.pressure},n=document.querySelector("#city"),o=document.querySelector("#temp"),i=document.querySelector("#icon"),r=document.querySelector("#current-condition"),c=document.querySelector("#humidity"),u=document.querySelector("#visibility"),a=document.querySelector("#pressure");n.textContent=e.city+", "+e.country,i.src="http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),o.innerHTML=Math.round(e.temperatue),r.textContent=e.conditions,c.textContent=e.humidity,u.textContent=e.visibility/1e3,a.textContent=e.pressure/10,console.log("Weather UI updated")})}s.addEventListener("click",function(){m()}),l.addEventListener("keyup",function(t){t.preventDefault(),13===t.keyCode&&m()}),d.addEventListener("click",function(){window.location.reload()}),new o.Copyright,(new o.Location).then(function(t){console.log("Location detected");var e=t.coords.latitude,n=t.coords.longitude;null!==e&&null!==n&&(f("lat="+e+"&lon="+n),u.textContent="Auto-location",a.src="dist/img/location-arrow.svg")}).catch(function(t){console.log(t.message),u.textContent=t.message})},{"./modules/classes":1}]},{},[2]);
//# sourceMappingURL=script.min.js.map
